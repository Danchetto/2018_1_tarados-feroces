{"version":3,"sources":["webpack:///webpack/bootstrap 6c988b3af1edfc706cdb","webpack:///./src/app/components/BaseComponent/BaseComponent.js","webpack:///./src/app/modules/Router/Router.js","webpack:///./src/app/views/BaseView/BaseView.js","webpack:///./src/app/modules/HttpModule/HttpModule.js","webpack:///./src/app/modules/UserService/UserService.js","webpack:///./src/app/modules/TemplateManager/TemplateManager.js","webpack:///./src/app/index.js","webpack:///./src/app/modules/HttpModule/HttpConstants.js","webpack:///./src/app/views/LoadingView/LoadingView.js","webpack:///./src/app/modules/HtmlParser/HtmlParser.js","webpack:///./src/app/components/Button/Button.js","webpack:///./src/app/components/Input/Input.js","webpack:///./src/app/components/Header/Header.js","webpack:///./src/app/components/MenuPoint/MenuPoint.js","webpack:///./src/app/components/Menu/Menu.js","webpack:///./src/app/components/Form/Form.js","webpack:///./src/app/components/Footer/Footer.js","webpack:///./src/app/components/Image/Image.js","webpack:///./src/app/components/Trailer/Trailer.js","webpack:///./src/app/components/StandartComponent/StandartComponent.js","webpack:///./src/app/views/LoginView/LoginView.js","webpack:///./src/app/views/MainPageView/MainPageView.js","webpack:///./src/app/views/RegisterView/RegisterView.js","webpack:///./src/app/views/AuthorizedView/AuthorizedView.js","webpack:///./src/app/views/SettingsView/SettingsView.js","webpack:///./src/app/views/LeaderboardView/LeaderboardView.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","[object Object]","template","this","_element","events","functionExp","context","div","document","createElement","innerHTML","__WEBPACK_IMPORTED_MODULE_0__modules_TemplateManager_TemplateManager__","getHTML","lastChild","addListeners","component","appendChild","forEach","item","func","match","addEventListener","Function","router","lastView","urls","insertionElement","querySelector","loadingElement","__WEBPACK_IMPORTED_MODULE_1__views_LoadingView_LoadingView__","__render","classList","add","start","url","view","loaded","update","parent","deleteLast","element","show","showLoading","checkAuth","route","window","history","pushState","path","pageUpdate","preRender","then","response","event","location","pathname","hide","parentNode","removeChild","needAuthorization","__WEBPACK_IMPORTED_MODULE_0__UserService_UserService__","isAuthorized","hideLoading","showPage","hideLast","remove","Promise","resolve","reject","__WEBPACK_IMPORTED_MODULE_0__modules_HtmlParser_HtmlParser__","__WEBPACK_IMPORTED_MODULE_1__modules_TemplateManager_TemplateManager__","render","httpModule","domen","__WEBPACK_IMPORTED_MODULE_0__HttpConstants__","headers","value","doRequest","data","method","xhr","XMLHttpRequest","open","JSON","parse","responseText","status","message","Error","current","setRequestHeader","withCredentials","send","stringify","userService","__WEBPACK_IMPORTED_MODULE_0__HttpModule_HttpModule__","doGet","__WEBPACK_IMPORTED_MODULE_1__Router_Router__","deleteElement","templateManager","templateId","changeTemplate","Handlebars","compile","__WEBPACK_IMPORTED_MODULE_1__modules_Router_Router__","addUrl","__WEBPACK_IMPORTED_MODULE_2__views_LoginView_LoginView__","__WEBPACK_IMPORTED_MODULE_3__views_MainPageView_MainPageView__","__WEBPACK_IMPORTED_MODULE_4__views_RegisterView_RegisterView__","__WEBPACK_IMPORTED_MODULE_5__views_AuthorizedView_AuthorizedView__","__WEBPACK_IMPORTED_MODULE_7__views_LeaderboardView_LeaderboardView__","__WEBPACK_IMPORTED_MODULE_6__views_SettingsView_SettingsView__","undefined","__WEBPACK_IMPORTED_MODULE_0__modules_UserService_UserService__","checkSession","go","__WEBPACK_IMPORTED_MODULE_0__BaseView_BaseView__","htmlParser","regExp","regExpEnd","objects","tagStack","componentFactory","Button","__WEBPACK_IMPORTED_MODULE_0__components_Button_Button__","Input","__WEBPACK_IMPORTED_MODULE_1__components_Input_Input__","Header","__WEBPACK_IMPORTED_MODULE_2__components_Header_Header__","MenuPoint","__WEBPACK_IMPORTED_MODULE_3__components_MenuPoint_MenuPoint__","Menu","__WEBPACK_IMPORTED_MODULE_4__components_Menu_Menu__","Form","__WEBPACK_IMPORTED_MODULE_5__components_Form_Form__","Footer","__WEBPACK_IMPORTED_MODULE_6__components_Footer_Footer__","Image","__WEBPACK_IMPORTED_MODULE_7__components_Image_Image__","Trailer","__WEBPACK_IMPORTED_MODULE_8__components_Trailer_Trailer__","__WEBPACK_IMPORTED_MODULE_9__components_StandartComponent_StandartComponent__","a","img","ul","stringToObject","html","getElement","obj","pop","length","children","push","tag","slice","exec","handleCloseTag","handleOpenTag","input","compareResult","previousIndex","replace","index","text","handleTag","str","split","attributes","currentProp","propExp","setObjectAttributes","performObject","parseHtml","map","__WEBPACK_IMPORTED_MODULE_0__BaseComponent_BaseComponent__","super","getElementsByTagName","validateLogin","blocks","getElementsByClassName","reduce","result","validateLoginInput","__WEBPACK_IMPORTED_MODULE_3__modules_HttpModule_HttpModule__","doPost","login","password","__WEBPACK_IMPORTED_MODULE_2__modules_UserService_UserService__","userLogin","error","alert","block","validateFocusLoginInput","validateBlurLoginInput","goToLogin","goToSignUp","goToScore","goBack","validateRegistration","validateRegistrationInput","email","innerText","validateFocusRegistrationInput","validateBlurRegistrationInput","__WEBPACK_IMPORTED_MODULE_1__modules_HttpModule_HttpModule__","goToSettings","__WEBPACK_IMPORTED_MODULE_3__modules_Router_Router__","signOut","userLogout","settings","__WEBPACK_IMPORTED_MODULE_2__modules_Router_Router__","avatar","reader","validateSettings","FileReader","validateSettingsInput","file","files","readAsDataURL","onload","validateFocusSettingsInput","validateBlurSettingsInput","goToUser","row","keys","newRow","points","rows","position","count","currentPosition","paginate","viewUpdate"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6c988b3af1edfc706cdb","import templateManager from '../../modules/TemplateManager/TemplateManager';\n\n/** Базовый класс компоненты\n * @module BaseComponent\n */\nexport default class BaseComponent {\n\n    /**\n     * @param {string} [template] - шаблон компоненты\n     * @constructor\n     */\n    constructor(template) {\n        this._element = null;\n        this.template = template;\n        this.events = ['click', 'focus', 'blur'];\n        this.functionExp = /\\s*\\(([\\w, ]*)\\)\\n*\\t*\\s*{(.*)}/i;\n    }\n\n    /**\n     * Создание элемента по шаблона с контекстом\n     * @param {object} context - контекст шаблона\n     */\n    render(context) {\n        const div = document.createElement('div');\n        div.innerHTML = templateManager.getHTML(context, this.template);\n        this._element = div.lastChild;\n        this.addListeners(context);\n    }\n\n    /**\n     * Добавление дочерней компоненты\n     * @param {BaseComponent} component\n     */\n    appendChild(component) {\n        this._element.appendChild(component);\n    }\n\n    /**\n     * Возращает элемент компоненты\n     * @return {HTMLElement}\n     */\n    element() {\n        return this._element;\n    }\n\n    /**\n     * Добавление обработчиков событий\n     * @param {object} context\n     */\n    addListeners(context) {\n        this.events.forEach((item) => {\n            if (context[item]) {\n                const func = context[item].match(this.functionExp);\n                this._element.addEventListener(item, new Function(func[1], func[2]));\n            }\n        });\n    }\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/BaseComponent/BaseComponent.js\n// module id = 0\n// module chunks = 0","import userService from '../UserService/UserService';\nimport LoadingView from '../../views/LoadingView/LoadingView';\n\n/**\n * Класс, отвечающий за переход по url\n * @module Router\n */\nclass Router {\n\n    /**\n     * @constructor\n     */\n    constructor() {\n        this.lastView = null;\n        this.urls = {};\n        this.insertionElement = document.querySelector('.root');\n        this.loadingElement = new LoadingView().__render();\n        this.loadingElement.classList.add('hidden');\n        this.insertionElement.appendChild(this.loadingElement);\n        this.start();\n    }\n\n    /**\n     * Регистрирует url в роутере\n     * @param {string} url\n     * @param {BaseView} view\n     * @return {Router}\n     */\n    addUrl(url, view) {\n        this.urls[url] = {\n            view,\n            loaded: false,\n        };\n        return this;\n    }\n\n    /**\n     * Обновляет и перерисовывает вью в DOM\n     * @param {Object} context\n     */\n    viewUpdate(context) {\n        this.lastView.update(context);\n        const parent = this.deleteLast();\n        this.lastView.__render();\n        parent.appendChild(this.lastView.element);\n        this.lastView.show();\n    }\n\n    /**\n     * Переходит на новый url\n     * @param {string} url\n     * @param {Node} insertionElement\n     * @return {boolean}\n     */\n    go(url, insertionElement = this.insertionElement) {\n        if (!this.urls[url]) {\n            return false;\n        }\n\n        this.showLoading();\n        url = this.checkAuth(url);\n        this.route(url, insertionElement);\n        window.history.pushState({path: url}, url, url);\n    }\n\n    /**\n     * Отрисовывает привязанную к url вью\n     * @param {string} url\n     * @param {Node} insertionElement\n     * @private\n     */\n    route(url, insertionElement = this.insertionElement) {\n\n        if (!this.urls[url].loaded) {\n            this.urls[url].loaded = true;\n            this.urls[url].view.preRender().then(\n                (response) => {\n                    this.urls[url].view.__render();\n                    insertionElement.appendChild(this.urls[url].view.element);\n\n                    this.pageUpdate(url);\n                }\n            );\n        } else {\n            this.pageUpdate(url);\n        }\n    }\n\n    /**\n     * Навешивает обработчик на popstate\n     * @private\n     */\n    start() {\n        window.addEventListener('popstate', (event) => {\n            this.route(window.location.pathname);\n        });\n    }\n\n    /**\n     * Показывает текущую вью\n     * @param {string} url\n     * @private\n     */\n    showPage(url) {\n        this.urls[url].view.show();\n    }\n\n    /**\n     * Скрывает предыдущую вью\n     * @private\n     */\n    hideLast() {\n        this.lastView && this.lastView.hide();\n    }\n\n    /**\n     * Удаляет последнюю вью из DOM\n     * @return {Node}\n     * @private\n     */\n    deleteLast() {\n        if (this.lastView.element) {\n            const parent = this.lastView.element.parentNode;\n            parent.removeChild(this.lastView.element);\n            return parent;\n        }\n    }\n\n    /**\n     * Преобразует url к нужному, согласно текущей сессии\n     * @param {string} url\n     * @return {string}\n     * @private\n     */\n    checkAuth(url) {\n        if (this.urls[url].view.needAuthorization() && !userService.isAuthorized) {\n            return '/';\n        } else if (!this.urls[url].view.needAuthorization() && userService.isAuthorized) {\n            return '/user/';\n        }\n\n        return url;\n    }\n\n    /**\n     * Скрывает последнюю вью и выводит текущую\n     * @param {string} url\n     * @private\n     */\n    pageUpdate(url) {\n        // this.hideLast();\n        this.hideLoading();\n        this.lastView = this.urls[url].view;\n        this.showPage(url);\n    }\n\n    /**\n     * Отображает вью загрузки\n     */\n    showLoading() {\n        this.hideLast();\n        this.loadingElement.classList.remove('hidden');\n    }\n\n    hideLoading() {\n        this.loadingElement.classList.add('hidden');\n    }\n}\n\nconst router = new Router();\nexport default router;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/Router/Router.js\n// module id = 1\n// module chunks = 0","import htmlParser from '../../modules/HtmlParser/HtmlParser'\nimport templateManager from '../../modules/TemplateManager/TemplateManager'\n\n/**\n * Базовый класс вьюх\n * @module BaseView\n */\nexport default class BaseView {\n\n    /**\n     * @constructor\n     */\n    constructor() {\n        this.element = null;\n        this.context = {};\n    }\n\n    /**\n     * Получает параметры шаблона для вьюхи\n     * @return {Promise<any>}\n     */\n    preRender() {\n        return new Promise((resolve, reject) => resolve({}));\n    }\n\n    /**\n     * Возвращает шаблон вьюхи\n     * @return {string}\n     */\n    render() {\n       return '';\n    }\n\n    /**\n     * Удаляет элемент вьюхи из DOM\n     * @return {Node}\n     */\n    deleteElement() {\n        if (this.element) {\n            const parent = this.element.parentNode;\n            parent.removeChild(this.element);\n            return parent;\n        }\n    }\n\n    /**\n     * Сообщает, нужна ли авторизация для отрисовки вьюхи\n     * @return {boolean}\n     */\n    needAuthorization() {\n        return true;\n    }\n\n    /**\n     * Обновляет контекст вьюхи согласно новому контескту\n     * @param {Object} context\n     * @return {null}\n     */\n    update(context = {}) {\n        return null;\n    }\n\n    /**\n     * Скрывает элемент вью\n     */\n    hide() {\n        if (this.element) {\n            this.element.classList.add('hidden');\n        }\n    }\n\n    /**\n     * Показывает элемент вью\n     */\n    show() {\n        if (this.element) {\n            this.element.classList.remove('hidden');\n        }\n    }\n\n    /**\n     * Получает DOM-элемент вью\n     * @return {Node}\n     */\n    __render() {\n        this.element = htmlParser.getHTML(templateManager.getHTML(this.context, this.render()));\n        return this.element;\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/views/BaseView/BaseView.js\n// module id = 2\n// module chunks = 0","import {httpDomen, HEADER_CONTENT_TYPE, JSON_CONTENT_TYPE, POST, GET} from './HttpConstants'\n/**\n * Класс, отвечающий за отправку запросов на сервер\n * @module HttpModule\n */\nclass HttpModule {\n\n    /**\n     * @constructor\n     */\n    constructor() {\n        this.domen = httpDomen;\n    }\n\n    /**\n     * Делает GET-запрос\n     * @param {string} url\n     * @param {Object} headers\n     * @return {Promise<any>}\n     */\n    doGet(url, headers = [{name: HEADER_CONTENT_TYPE, value: JSON_CONTENT_TYPE}]) {\n        return this.doRequest(GET, url, headers);\n    }\n\n    /**\n     * Делает POST-запрос\n     * @param {string} url\n     * @param {Object} data\n     * @param {Object} headers\n     * @return {Promise<any>}\n     */\n    doPost(url, data = null, headers = [{name: HEADER_CONTENT_TYPE, value: JSON_CONTENT_TYPE}]) {\n        return this.doRequest(POST, url, data, headers);\n    }\n\n    /**\n     * Отправляет запрос указанного типа\n     * @param {string} method\n     * @param {string} url\n     * @param {Object} data\n     * @param {Object} headers\n     * @return {Promise<any>}\n     * @private\n     */\n    doRequest(method = GET, url = '/', data = null, headers = []) {\n        return new Promise((resolve, reject) => {\n            const xhr = new XMLHttpRequest();\n            xhr.open(method, `${this.domen}${url}`, true);\n\n            xhr.addEventListener('load', () => {\n                const response = JSON.parse(xhr.responseText);\n\n                if (xhr.status < 300) {\n                    resolve(response);\n                } else {\n                    reject(response.message);\n                }\n            });\n\n            xhr.addEventListener('error', () => {\n                reject(new Error('Network error'));\n            });\n\n            headers.forEach((current) => xhr.setRequestHeader(current.name, current.value));\n\n            xhr.withCredentials = true;\n\n            data ? xhr.send(JSON.stringify(data)) : xhr.send();\n        });\n    }\n\n}\n\nconst httpModule = new HttpModule();\nexport default httpModule;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/HttpModule/HttpModule.js\n// module id = 3\n// module chunks = 0","import httpModule from '../HttpModule/HttpModule'\nimport router from '../Router/Router'\n\n/**\n * Класс для работы с сессией пользователя\n * @module UserService\n */\nclass UserService {\n\n    /**\n     * Проверка авторизации пользователя\n     * @return {PromiseLike<boolean> | Promise<boolean>}\n     */\n    checkSession() {\n        return httpModule.doGet('/me').then(\n            (response) => this.isAuthorized = true,\n            (reject) => this.isAuthorized = false);\n    }\n\n    /**\n     * Установка флага авторизованного пользователя\n     */\n    userLogin() {\n        this.isAuthorized = true;\n    }\n\n    /**\n     * Сброс флага авторизованного пользователя\n     * Удаление отрендеренных вью пользователя\n     */\n    userLogout() {\n        this.isAuthorized = false;\n        router.urls['/user/'].view.deleteElement();\n        router.urls['/user/'].loaded = false;\n        if (router.urls['/settings/'].loaded) {\n            router.urls['/settings/'].view.deleteElement();\n            router.urls['/settings/'].loaded = false;\n        }\n    }\n}\n\nconst userService = new UserService();\nexport default userService;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/UserService/UserService.js\n// module id = 4\n// module chunks = 0","/**\n * Класс для работы с шаблонами\n * @module TemplateManager\n */\nclass TemplateManager {\n\n    /**\n     * @param {string} templateId - шаблон\n     * @constructor\n     */\n    constructor(templateId = '') {\n        if (!templateId) {\n            return;\n        }\n\n        this.changeTemplate(templateId);\n    }\n\n    /**\n     * Возвращает отрендеренный шаблон\n     * @param {object} context - контекст шаблона\n     * @param {string} templateId - шаблон\n     * @return {*}\n     */\n    getHTML(context, templateId) {\n        if (templateId) {\n            this.changeTemplate(templateId);\n        }\n        return this.template(context);\n    }\n\n    /**\n     * Компиляция шаблона\n     * @param {string} templateId - шаблон\n     */\n    changeTemplate(templateId) {\n        this.template = Handlebars.compile(templateId);\n    }\n}\n\nconst templateManager = new TemplateManager();\nexport default templateManager;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/TemplateManager/TemplateManager.js\n// module id = 5\n// module chunks = 0","'use strict';\nimport userService from './modules/UserService/UserService'\nimport router from './modules/Router/Router'\nimport LoginView from './views/LoginView/LoginView'\nimport MainPageView from './views/MainPageView/MainPageView'\nimport RegisterView from './views/RegisterView/RegisterView'\nimport AuthorizedView from './views/AuthorizedView/AuthorizedView'\nimport SettingsView from './views/SettingsView/SettingsView'\nimport LeaderboardView from './views/LeaderboardView/LeaderboardView'\n\nrouter\n    .addUrl(\n        '/login/',\n        new LoginView()\n    )\n    .addUrl(\n        '/',\n        new MainPageView()\n    )\n    .addUrl(\n        '/signup/',\n        new RegisterView()\n    )\n    .addUrl(\n        '/user/',\n        new AuthorizedView()\n    )\n    .addUrl(/leaderboard/,\n        new LeaderboardView()\n    )\n    .addUrl(/settings/,\n        new SettingsView());\n\ndebugger;\n\nif (userService.isAuthorized === undefined) {\n\n    userService.checkSession()\n    .then(\n        (response) => router.go(document.location.pathname),\n        (reject) => router.go(document.location.pathname)\n    );\n} else {\n    router.go(document.location.pathname);\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index.js\n// module id = 7\n// module chunks = 0","export const httpDomen = 'http://deadlinez.herokuapp.com/alexalone';\nexport const POST = 'POST';\nexport const GET = 'GET';\nexport const HEADER_CONTENT_TYPE = 'Content-Type';\nexport const JSON_CONTENT_TYPE = 'application/json;charset=UTF-8';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/HttpModule/HttpConstants.js\n// module id = 8\n// module chunks = 0","import BaseView from '../BaseView/BaseView'\n\nexport default class LoadingView extends BaseView {\n\n    render() {\n        return `<Header>Loading...</Header>`;\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/views/LoadingView/LoadingView.js\n// module id = 9\n// module chunks = 0","import Button from '../../components/Button/Button'\nimport Input from '../../components/Input/Input'\nimport Header from '../../components/Header/Header'\nimport MenuPoint from '../../components/MenuPoint/MenuPoint'\nimport Menu from '../../components/Menu/Menu'\nimport Form from '../../components/Form/Form'\nimport Footer from '../../components/Footer/Footer'\nimport Image from '../../components/Image/Image'\nimport Trailer from '../../components/Trailer/Trailer'\nimport StandartComponent from '../../components/StandartComponent/StandartComponent'\n\n/** Класс для парсинга html тэгов\n * @module HtmlParser\n */\nclass HtmlParser {\n\n    /**\n     * @constructor\n     */\n    constructor() {\n        this.regExp = /<[a-z0-9 _\\-\"'=(){}\\[\\],;:.@!?\\/+]+>|<\\/[a-z0-9 _\\-\"'=(){}\\[\\],;:.@!?]+>/ig;\n        this.regExpEnd = /<\\/[a-z0-9 _\\-\"'=(){}\\[\\],;:.@!?]+>/i;\n        this.objects = [];\n        this.tagStack = [];\n\n        this.componentFactory = {\n            Button: () => new Button(),\n            Input: () => new Input(),\n            Header: () => new Header(),\n            MenuPoint: () => new MenuPoint(),\n            Menu: () => new Menu(),\n            Form: () => new Form(),\n            Footer: () => new Footer(),\n            Image: () => new Image(),\n            Trailer: () => new Trailer(),\n            div: () => new StandartComponent(),\n            a: () => new StandartComponent(),\n            p: () => new StandartComponent(),\n            img: () => new StandartComponent(),\n            ul: () => new StandartComponent(),\n        };\n    }\n\n    /**\n     * Возвращает отрендеренный HTMLElement\n     * @param {string} template - шаблон для парсинга\n     * @return {HTMLDivElement}\n     */\n    getHTML(template) {\n        this.stringToObject(template);\n        const html = document.createElement('div');\n        this.objects.forEach((item) => {\n            if (item) {\n                html.appendChild(this.getElement(item));\n            }\n        });\n        this.objects = [];\n        return html;\n\n    }\n\n    /**\n     * Обрабатывает закрывающие тэги\n     */\n    handleCloseTag() {\n        const obj = this.tagStack.pop();\n        if (this.tagStack.length === 0) {\n            this.objects.push(obj);\n            return;\n        }\n\n        this.tagStack[this.tagStack.length - 1].children.push(obj);\n    }\n\n    /**\n     * Обрабатывает открывающий тэг\n     * @param {string} tag - входной тэг\n     */\n    handleOpenTag(tag) {\n        const obj = {\n            object: tag.slice(1, -1),\n            children: [],\n        };\n\n        this.tagStack.push(obj);\n    }\n\n    /**\n     * Обрабатывает тэг\n     * @param {string} tag - входной тэг\n     */\n    handleTag(tag) {\n        const result = this.regExpEnd.exec(tag);\n        result ? this.handleCloseTag(tag) : this.handleOpenTag(tag);\n    }\n\n    /**\n     * Парсит строку шаблона по руглярным выражениям\n     * @param {string} input - входной шаблон\n     */\n    parseHtml(input) {\n        // debugger;\n        let compareResult = '';\n        let previousIndex = 0;\n        input = input.replace(/\\n/g, ' ');\n        while (compareResult = this.regExp.exec(input)) {\n            if (previousIndex < compareResult.index) {\n                if (this.tagStack.length) {\n                    this.tagStack[this.tagStack.length - 1].text = input.slice(previousIndex, compareResult.index);\n                }\n            }\n\n            this.handleTag(compareResult[0]);\n\n            previousIndex = compareResult.index + compareResult[0].length;\n        }\n    }\n\n    /**\n     * Добавляет свойства элементу объекта после парснга\n     * @param {object} object - объект после парсинга\n     */\n    setObjectAttributes(object) {\n        const str = object.object.split(' ');\n        object.tag = str[0];\n        object.attributes = {};\n        object.attributes.text = object.text;\n        object.attributes.tag = object.tag;\n\n        let currentProp = '';\n        const propExp = /([\\w-_]+)=\"([^\"]*)\"/gi;\n        while (currentProp = propExp.exec(object.object)) {\n            object.attributes[currentProp[1]] = currentProp[2];\n        }\n    }\n\n    /**\n     * Обрабатывает объект после парсинга\n     * @param {object} object - объект после парсинга\n     * @return {object}\n     */\n    performObject(object) {\n        if (!object || !object.object) {\n            return object;\n        }\n\n        this.setObjectAttributes(object);\n\n        if (!object.children.length) {\n            return object;\n        }\n\n        object.children.forEach((obj) => this.performObject(obj));\n    }\n\n    /**\n     * Парсит и возвращает готовый массив элементов\n     * @param {string} input - входной шаблон\n     * @return {Array}\n     */\n    stringToObject(input) {\n        this.parseHtml(input);\n        this.objects.map((obj) => this.performObject(obj));\n\n        return this.objects;\n    }\n\n    /**\n     * Возвращает элемент компоненты по тэгу\n     * @param {object} object\n     * @return {HTMLElement}\n     */\n    getElement(object) {\n        const component = this.componentFactory[object.tag]();\n        component.render(object.attributes);\n\n        object.children.forEach((item) => component.appendChild(this.getElement(item)));\n\n        return component.element();\n    }\n}\n\nconst htmlParser = new HtmlParser();\nexport default htmlParser;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modules/HtmlParser/HtmlParser.js\n// module id = 10\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\n\nexport default class Button extends BaseComponent {\n\n    render(context) {\n        this.template = `<div class=\"button {{class}}\"><p class=\"button__value\">{{text}}</p></div>`;\n        super.render(context);\n    }\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/Button/Button.js\n// module id = 11\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\nexport default class Input extends BaseComponent {\n\n    render(context) {\n        this.template = `<div class=\"input-block {{block-class}}\">\n                            <input \n                            name=\"{{input-name}}\" \n                            focus=\"{{focus}}\" \n                            blur=\"{{blur}}\" \n                            type={{type}} \n                            class=\"input-block__input {{input-class}}\" \n                            placeholder=\"{{placeholder}}\" \n                            value=\"{{value}}\"/>\n                         </div>`;\n        super.render(context);\n    }\n\n    addListeners(context) {\n        this.events.forEach((item) => {\n            if (context[item]) {\n                const func = context[item].match(this.functionExp);\n                this._element.getElementsByTagName('input')[0].addEventListener(item, new Function(func[1], func[2]));\n            }\n        });\n    }\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/Input/Input.js\n// module id = 12\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\nexport default class Header extends BaseComponent {\n\n    render(context) {\n        this.template = `<div class=\"header {{class}}\">\n                         </div>`;\n        super.render(context);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/Header/Header.js\n// module id = 13\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\nexport default class MenuPoint extends BaseComponent {\n\n    render(context) {\n        this.template = `<div class=\"menu-point {{class}}\"><p class=\"menu-point-text\">{{text}}</p></div>`;\n        super.render(context);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/MenuPoint/MenuPoint.js\n// module id = 14\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\nexport default class Menu extends BaseComponent {\n\n    render(context) {\n        this.template = `<div class=\"menu {{class}}\"></div>`;\n        super.render(context);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/Menu/Menu.js\n// module id = 15\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\nexport default class Form extends BaseComponent {\n\n    render(context) {\n        this.template = `<form method=\"{{method}}\"></form>`;\n        super.render(context);\n    }\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/Form/Form.js\n// module id = 16\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\nexport default class Footer extends BaseComponent {\n\n    render(context) {\n        this.template = `<div class=\"footer\"><p>{{text}}</p></div>`;\n        super.render(context);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/Footer/Footer.js\n// module id = 17\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\n\nexport default class Image extends BaseComponent {\n\n    render(context) {\n        this.template = `<img class=\"{{class}}\" src=\"{{src}}\">`;\n        super.render(context);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/Image/Image.js\n// module id = 18\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\nexport default class Trailer extends BaseComponent {\n\n    render(context) {\n        this.template = `<iframe class=\"{{class}}\" src=\"{{src}}\" frameborder=\"{{frameborder}}\" allow=\"{{allow}}\" allowfullscreen></iframe>`;\n        super.render(context);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/Trailer/Trailer.js\n// module id = 19\n// module chunks = 0","import BaseComponent from '../BaseComponent/BaseComponent'\n\nexport default class StandartComponent extends BaseComponent {\n\n    render(context) {\n        this.template = `<{{tag}} class=\"{{class}}\">{{text}}</{{tag}}>`;\n        super.render(context);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/StandartComponent/StandartComponent.js\n// module id = 20\n// module chunks = 0","import BaseView from '../BaseView/BaseView'\nimport router from \"../../modules/Router/Router\";\nimport userService from \"../../modules/UserService/UserService\";\nimport httpModule from \"../../modules/HttpModule/HttpModule\";\n\nexport default class LoginView extends BaseView {\n\n    render() {\n        return `<div class=\"page\">\n                        <Header>Login</Header>\n                        <div class=\"form-block login\">\n                            <Form>\n                                <Input block-class=\"user-name\" error-class=\"hidden\" error-text=\"empty username\"\n                                label-text=\"Enter login:\" type=\"text\" placeholder=\"Enter login\"\n                                focus=\"() { validateFocusLoginInput(document.querySelector('.login').getElementsByClassName('input-block')[0]) }\"\n                                blur=\"() { validateBlurLoginInput(document.querySelector('.login').getElementsByClassName('input-block')[0]) }\">\n                                </Input>\n                                <Input block-class=\"user-password\"  error-class=\"hidden\" error-text=\"empty password\"\n                                label-text=\"Password:\" type=\"password\" placeholder=\"Enter password\"\n                                focus=\"() { validateFocusLoginInput(document.querySelector('.login').getElementsByClassName('input-block')[1]) }\"\n                                blur=\"() { validateBlurLoginInput(document.querySelector('.login').getElementsByClassName('input-block')[1]) }\">\n                                </Input>\n                                <div class=\"button-container\">\n                                    <Button class=\"button large\" click=\"() {validateLogin();}\">Log In!</Button>\n                                    <Button class=\"button large\" click=\"(event){ event.preventDefault(); goBack();  }\">Back</Button>\n                                </div>\n                            </Form>\n                        </div>\n                    </div>\n                    <Footer>Made by Tarados Feroces</Footer>`;\n    }\n\n    needAuthorization() {\n        return false;\n    }\n}\n\nwindow.validateLogin = () => {\n    const blocks = [...document.querySelector('.login').getElementsByClassName('input-block')];\n    if (blocks.reduce((result, current) => result + validateLoginInput(current), 0) == blocks.length) {\n        httpModule.doPost('/signin',\n            {\n                login: blocks[0].querySelector('input').value,\n                password: blocks[1].querySelector('input').value,\n            }).then(\n            (responseText) => {\n                userService.userLogin();\n                router.go('/user/');\n                blocks.forEach((item) => item.querySelector('input').value = '');\n            },\n            (error) => {\n                alert(error);\n            }\n        );\n    }\n};\n\nwindow.validateLoginInput = (block) => {\n    const input = block.querySelector('input');\n    const error = block.querySelector('.error');\n\n    if (input.value === '') {\n        input.classList.add('input-error');\n        error.classList.remove('hidden');\n        return false;\n    } else {\n        input.classList.remove('input-error');\n        error.classList.add('hidden');\n        return true;\n    }\n};\n\nwindow.validateFocusLoginInput = (block) => {\n    block.querySelector('input').classList.remove('input-error');\n    block.querySelector('.error').classList.add('hidden');\n};\n\nwindow.validateBlurLoginInput = (block) => {\n    const input = block.querySelector('input');\n    const error = block.querySelector('.error');\n\n    if (input.value === '') {\n        input.classList.add('input-error');\n        error.classList.remove('hidden');\n    }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/views/LoginView/LoginView.js\n// module id = 21\n// module chunks = 0","import BaseView from '../BaseView/BaseView'\nimport router from '../../modules/Router/Router'\n\nexport default class MainPageView extends BaseView {\n\n    render() {\n        return `<div class=\"main-page\">\n                    <Header class=\"main-page__header\">\n                        <div class=\"header-logo\">\n                            <div class=\"header-logo-content\"></div>\n                        </div>\n                    </Header>   \n                    <div class=\"main-page__content\">\n                        <div class=\"main-page__content-row\">\n                            <Menu>\n                                <MenuPoint>Play</MenuPoint>\n                                <MenuPoint>Sign In</MenuPoint>\n                                <MenuPoint>Sign Up</MenuPoint>\n                            </Menu>\n                            <div class=\"scroll\">\n                                <div class=\"scroll-icon\"></div>\n                            </div>\n                        </div>\n                       <div class=\"main-page__content-row main-page__content-row_low-height\">\n                            <div class=\"main-page__content-description\">\n                                <div class=\"text\">\n                                    <p class=\"text__data\">\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud\n                                        exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure\n                                        dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud\n                                        exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure\n                                        dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\n                                    </p>\n                                </div>\n                            </div>\n                       </div>\n                       <div class=\"main-page__content-row\"\n                           <div class=\"main-page__content-trailer\">\n                                <Trailer src=\"https://www.youtube.com/embed/L3Mg6lk6yyA\" frameborder=\"0\" allow=\"autoplay; encrypted-media\"></Trailer>\n                           </div>\n                       </div>\n                    </div>\n                </div>`;\n    }\n\n    needAuthorization() {\n        return false;\n    }\n}\n\nwindow.goToLogin = () => {\n    router.go('/login/');\n};\n\nwindow.goToSignUp = () => {\n    router.go('/signup/');\n};\n\nwindow.goToScore = () => {\n    router.go('/leaderboard/');\n};\n\nwindow.goBack = () => {\n    router.go('/');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/views/MainPageView/MainPageView.js\n// module id = 22\n// module chunks = 0","import BaseView from '../BaseView/BaseView'\nimport router from \"../../modules/Router/Router\";\nimport userService from \"../../modules/UserService/UserService\";\nimport httpModule from \"../../modules/HttpModule/HttpModule\";\n\nexport default class RegisterView extends BaseView {\n\n    render() {\n        return `<div class=\"page\">\n                    <Header>Sign Up!</Header>\n                    <div class=\"form-block registration\">\n                        <Form>\n                            <Input block-class=\"user-name\" error-class=\"hidden\" error-text=\"empty username\"\n                            label-text=\"Login:\" type=\"text\" placeholder=\"Enter login\"\n                            focus=\"() { validateFocusRegistrationInput(document.querySelector('.registration').getElementsByClassName('input-block')[0]) }\"\n                            blur=\"() { validateBlurRegistrationInput(document.querySelector('.registration').getElementsByClassName('input-block')[0]) }\">\n                            </Input>\n                            <Input block-class=\"user-email\" error-class=\"hidden\" error-text=\"empty email\"\n                            label-text=\"E-mail:\" type=\"text\" placeholder=\"Enter E-mail\"\n                            focus=\"() { validateFocusRegistrationInput(document.querySelector('.registration').getElementsByClassName('input-block')[1]) }\"\n                            blur=\"() { validateBlurRegistrationInput(document.querySelector('.registration').getElementsByClassName('input-block')[1]) }\">\n                            </Input>\n                            <Input block-class=\"user-password\" error-class=\"hidden\" error-text=\"empty password\"\n                            label-text=\"Password:\" type=\"password\" placeholder=\"Enter password\"\n                            focus=\"() { validateFocusRegistrationInput(document.querySelector('.registration').getElementsByClassName('input-block')[2]) }\"\n                            blur=\"() { validateBlurRegistrationInput(document.querySelector('.registration').getElementsByClassName('input-block')[2]) }\">\n                            </Input>\n                            <Input block-class=\"user-repeat-password\" error-class=\"hidden\" error-text=\"empty password\"\n                            label-text=\"Repeat password:\" type=\"password\" placeholder=\"Enter password\"\n                            focus=\"() { validateFocusRegistrationInput(document.querySelector('.registration').getElementsByClassName('input-block')[3]) }\"\n                            blur=\"() { validateBlurRegistrationInput(document.querySelector('.registration').getElementsByClassName('input-block')[3]) }\">\n                            </Input>\n                            <div class=\"button-container\">\n                                <Button class=\"button large\" click=\"(){ validateRegistration(); }\">Sign Up!</Button>\n                                <Button class=\"button large\" click=\"(event){ event.preventDefault(); goBack();  }\">Back</Button>\n                            </div>\n                        </Form>\n                    </div>\n                </div>\n                <Footer>Made by Tarados Feroces</Footer>\\;`;\n    }\n\n    needAuthorization() {\n        return false;\n    }\n}\n\nwindow.validateRegistration = () => {\n    const blocks = [...document.querySelector('.registration').getElementsByClassName('input-block')];\n    if (blocks.reduce((result, current) => result + validateRegistrationInput(current), 0) == blocks.length) {\n        httpModule.doPost('/signup',\n            {\n                login: blocks[0].querySelector('input').value,\n                email: blocks[1].querySelector('input').value,\n                password: blocks[2].querySelector('input').value,\n            }).then(\n            (responseText) => {\n                userService.userLogin();\n                router.go('/user/');\n                blocks.forEach((item) => item.querySelector('input').value = '');\n            },\n            (error) => {\n                document.querySelector('.registration').getElementsByClassName('input-block')[0].querySelector('.error').innerText = error;\n                document.querySelector('.registration').getElementsByClassName('input-block')[0].querySelector('.error').classList.remove('hidden');\n            }\n        );\n    }\n};\n\nwindow.validateRegistrationInput = (block) => {\n    const input = block.querySelector('input');\n    const error = block.querySelector('.error');\n\n    if (input.value === '') {\n        input.classList.add('input-error');\n        error.classList.remove('hidden');\n        return false;\n    } else {\n        input.classList.remove('input-error');\n        error.classList.add('hidden');\n        return true;\n    }\n};\n\nwindow.validateFocusRegistrationInput = (block) => {\n    block.querySelector('input').classList.remove('input-error');\n    block.querySelector('.error').classList.add('hidden');\n};\n\nwindow.validateBlurRegistrationInput = (block) => {\n    const input = block.querySelector('input');\n    const error = block.querySelector('.error');\n\n    if (input.value === '') {\n        input.classList.add('input-error');\n        error.classList.remove('hidden');\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/views/RegisterView/RegisterView.js\n// module id = 23\n// module chunks = 0","import BaseView from '../BaseView/BaseView'\nimport httpModule from '../../modules/HttpModule/HttpModule'\nimport userService from '../../modules/UserService/UserService'\nimport router from '../../modules/Router/Router'\n\nexport default class AuthorizedView extends BaseView {\n\n    preRender() {\n        return httpModule.doGet('/me').then(\n            (response) => {\n                this.context = response;\n            }\n        );\n    }\n\n    render() {\n        return `<div class=\"page\">\n                    <Header>Hello, {{login}}</Header>\n                    {{#if avatar}}\n                        <Image class=\"main-avatar\" src=\"{{{avatar}}}\"></Image>\n                    {{else}}\n                        <Image class=\"main-avatar\" src=\"../../static/images/mainAvatar.jpg\"></Image>\n                    {{/if}}    \n                    <div class=\"button-container\">\n                        <Button class=\"button large\" click=\"(event){ event.preventDefault(); goToSettings();  }\">Settings</Button>\n                        <Button class=\"button large\" click=\"(event){ event.preventDefault(); goToScore();  }\">Leaderboard</Button>\n                        <Button class=\"button large\" click=\"(event){ event.preventDefault(); signOut();  }\">Sign out</Button>\n                    </div>\n                </div>`;\n    }\n}\n\nwindow.goToSettings = () => router.go('/settings/');\n\nwindow.signOut = () => {\n    httpModule.doPost('/signout').then(\n        (response) => {\n            userService.userLogout();\n            router.go('/');\n        }\n    );\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/views/AuthorizedView/AuthorizedView.js\n// module id = 24\n// module chunks = 0","import BaseView from '../BaseView/BaseView'\nimport httpModule from '../../modules/HttpModule/HttpModule'\nimport router from '../../modules/Router/Router'\n\nexport default class SettingsView extends BaseView {\n\n    preRender() {\n        return httpModule.doGet('/me').then(\n            (response) => {\n                this.context = response;\n            }\n        );\n    }\n\n    render() {\n        return `<div class=\"page\">\n                    <Header>Settings</Header>\n                    <div class=\"form-block settings\">\n                        {{#if avatar}}\n                            <Image class=\"main-avatar\" src=\"{{{avatar}}}\"></Image>\n                        {{else}}\n                            <Image class=\"main-avatar\" src=\"../../static/images/mainAvatar.jpg\"></Image>\n                        {{/if}} \n                        <Form>\n                            <Input block-class=\"user-name\" error-class=\"hidden\" error-text=\"empty username\"\n                            label-text=\"Login:\" type=\"text\" value=\"{{login}}\"\n                            focus=\"() { validateFocusSettingsInput(document.querySelector('.settings').getElementsByClassName('input-block')[0]) }\"\n                            blur=\"() { validateBlurSettingsInput(document.querySelector('.settings').getElementsByClassName('input-block')[0]) }\">\n                            </Input>\n                            <Input block-class=\"user-email\" error-class=\"hidden\" error-text=\"empty email\"\n                            label-text=\"Email:\" type=\"text\" value=\"{{email}}\"\n                            focus=\"() { validateFocusSettingsInput(document.querySelector('.settings').getElementsByClassName('input-block')[1]) }\"\n                            blur=\"() { validateBlurSettingsInput(document.querySelector('.settings').getElementsByClassName('input-block')[1]) }\">\n                            </Input>\n                            <Input error-class=\"hidden\"\n                            label-text=\"Avatar:\" type=\"file\">\n                            </Input>\n                            <div class=\"button-container\">\n                                <Button class=\"button large\" click=\"(){ validateSettings(); }\">Save</Button>\n                                <Button class=\"button large\" click=\"(event){ event.preventDefault(); goToUser();  }\">Back</Button>\n                            </div>\n                        </Form>\n                    </div>\n                </div>`;\n    }\n\n}\n\nconst settings = () => {\n    const blocks = [...document.querySelector('.settings').getElementsByClassName('input-block')];\n    router.showLoading();\n    httpModule.doPost('/user/update',\n        {\n            login: blocks[0].querySelector('input').value,\n            email: blocks[1].querySelector('input').value,\n            avatar: reader.result,\n        }).then(\n        (responseText) => {\n            router.urls['/user/'].loaded = false;\n            router.urls['/user/'].view.deleteElement();\n            router.urls['/settings/'].loaded = false;\n            router.urls['/settings/'].view.deleteElement();\n            router.hideLoading();\n            router.go('/user/');\n            blocks.forEach((item) => item.querySelector('input').value = '');\n        },\n        (error) => {\n            document.querySelector('.settings').getElementsByClassName('input-block')[0].querySelector('.error').innerText = error;\n            document.querySelector('.settings').getElementsByClassName('input-block')[0].querySelector('.error').classList.remove('hidden');\n        }\n    );\n};\n\nwindow.validateSettings = () => {\n    const blocks = [...document.querySelector('.settings').getElementsByClassName('input-block')];\n    window.reader = new FileReader();\n    if (blocks.reduce((result, current) => result + validateSettingsInput(current), 0) == blocks.length) {\n        const file = blocks[2].querySelector('input').files[0];\n        reader.readAsDataURL(file);\n        reader.onload = settings;\n\n    }\n};\n\nwindow.validateSettingsInput = (block) => {\n    const input = block.querySelector('input');\n    const error = block.querySelector('.error');\n\n    if (input.value === '') {\n        input.classList.add('input-error');\n        error.classList.remove('hidden');\n        return false;\n    } else {\n        input.classList.remove('input-error');\n        error.classList.add('hidden');\n        return true;\n    }\n};\n\nwindow.validateFocusSettingsInput = (block) => {\n    block.querySelector('input').classList.remove('input-error');\n    block.querySelector('.error').classList.add('hidden');\n};\n\nwindow.validateBlurSettingsInput = (block) => {\n    const input = block.querySelector('input');\n    const error = block.querySelector('.error');\n\n    if (input.value === '') {\n        input.classList.add('input-error');\n        error.classList.remove('hidden');\n    }\n};\n\nwindow.goToUser = () => router.go('/user/');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/views/SettingsView/SettingsView.js\n// module id = 25\n// module chunks = 0","import BaseView from '../BaseView/BaseView'\nimport httpModule from '../../modules/HttpModule/HttpModule'\nimport router from '../../modules/Router/Router'\n\nexport default class LeaderboardView extends BaseView {\n\n    update(context = {}) {\n        for (const row in Object.keys(context.data)) {\n            const newRow = [];\n            newRow.push(context.data[row].login);\n            newRow.push(context.data[row].points);\n            this.context.rows.push(newRow);\n        }\n    }\n\n    preRender() {\n        return httpModule.doPost('/score', {position: 0, count: 5}).then(\n            (response) => {\n                this.context.rows = [];\n                this.context.headers = ['Login', 'Points'];\n                for (const row in Object.keys(response.data)) {\n                    const newRow = [];\n                    newRow.push(response.data[row].login);\n                    newRow.push(response.data[row].points);\n\n                    this.context.rows.push(newRow);\n                }\n            }\n        );\n    }\n\n    render() {\n        return `<div class=\"leaderboard\">\n                        <Header>Leaderboard</Header>\n                        <div class=\"table\">\n                            <div class=\"table-row\">\n                                {{#each headers}}\n                                <div class=\"table-data table-header\">{{this}}</div>\n                                {{/each}}\n                            </div>\n                            {{#each rows}}\n                            <div class=\"table-row\">\n                            {{#each this}}  \n                                <div class=\"table-data\">\n                                {{this}}\n                                </div>\n                            {{/each}}\n                            </div>\n                            {{/each}}\n                        </div>\n                </div>\n                <div class=\"button-container\">\n                    <Button class=\"button large\" click=\"(event){ paginate(currentPosition) }\">More</Button>\n                    <Button class=\"button large\" click=\"(event){ event.preventDefault(); goBack(); }\">Back</Button>\n                </div>\n                <Footer>Made by Tarados Feroces</Footer>`;\n    }\n}\n\nwindow.currentPosition = 5;\n\nwindow.paginate = (index) => {\n    const paginationConstant = 5;\n    httpModule.doPost('/score', {position: index, count: paginationConstant}).then(\n        (response) => router.viewUpdate(response)\n    );\n    window.currentPosition += paginationConstant;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/views/LeaderboardView/LeaderboardView.js\n// module id = 26\n// module chunks = 0"],"sourceRoot":""}